version: "{build}"

clone_folder: c:\gopath\src\gobot.io\x\gobot

platform:
  - MinGW_x64

environment:
  GOPATH: c:\gopath
  GOROOT: c:\go
  GOVERSION: 1.18
  TEST_EXTERNAL: 1

before_test:
  - set PATH=%PATH%;C:\mingw-w64\x86_64-7.3.0-posix-seh-rt_v5-rev0\mingw64\bin
  - set PATH=C:\go118\bin;%PATH%
  - set GOROOT=C:\go118
  - echo %PATH%
  - echo %GOPATH%
  - go version
  - go env

build_script:
  - go test -v -cpu=2 .
  - go test -v -cpu=2 ./drivers/...
  - go test -v -cpu=2 ./platforms/firmata/...
  - go test -v -cpu=2 ./platforms/ble/...
