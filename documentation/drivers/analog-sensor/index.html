<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<meta name="description">
<meta content="The Hybrid Group" name="author">
<title>Cylon.js - Analog Sensor Driver</title>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script><link href="http://fonts.googleapis.com/css?family=Source+Code+Pro:300,400,500,700" rel="stylesheet" type="text/css">
<link href="/stylesheets/style.css" rel="stylesheet">
<link href="/favicon.ico" rel="shortcut icon" type="image/gif">
<script>
      $(document).ready(function() {
        $('header .subtitle').hover(function() {
          $('.easter', this).show();
          $('.main', this).hide();
        }, function () {
          $('.easter', this).hide();
          $('.main', this).show();
        });
      });
    </script>
</head>
<body>
    <div class="app">
      <div class="w">
        <header class="app-header" role="banner"><div class="display">
            <h1 class="cylon-logo">
              <a href="/">Cylon</a>
            </h1>
          </div>
          <span class="menu">
            <a href="/documentation" class="item">Docs</a>
            <a href="/hardware" class="item">Hardware</a>
            
            
            <a class="item" target="blanck" href="https://github.com/hybridgroup/cylon/">Github</a>
          </span>
        </header>
</div>
      <div class="page-title">
        <div class="w">
          <h1 class="title">Analog Sensor</h1>
          <h2 class="subtitle">Driver</h2>
        </div>
      </div>
      <div class="container">
        <div class="main" role="main">
          <section class="content full"><div class="documentation">
              <section class="intro"><img class="display" src="/images/analog-sensor.jpg"><p>
                  Makes it possible to interact with analog inputs on your device and obtain values that represent the analog input send by the sensors.
                  The value received from an analog input read from the sensor goes from 0 to 1027.
                </p>
              </section><section class="how_to"><h2>How to establish a connection and setup the driver</h2>
                <h3>JavaScript</h3>
                <pre class="CodeRay"><span class="keyword">var</span> Cylon = require(<span class="string"><span class="delimiter">'</span><span class="content">cylon</span><span class="delimiter">'</span></span>);

Cylon.robot({
  <span class="key">connection</span>: {<span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">arduino</span><span class="delimiter">'</span></span>, <span class="key">adaptor</span>: <span class="string"><span class="delimiter">'</span><span class="content">firmata</span><span class="delimiter">'</span></span>, <span class="key">port</span>: <span class="string"><span class="delimiter">'</span><span class="content">/dev/ttyACM0</span><span class="delimiter">'</span></span>},

  <span class="key">device</span>: {<span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">sensor</span><span class="delimiter">'</span></span>, <span class="key">driver</span>: <span class="string"><span class="delimiter">'</span><span class="content">analogSensor</span><span class="delimiter">'</span></span>, <span class="key">pin</span>: <span class="integer">0</span>, <span class="key">lowerLimit</span>: <span class="integer">100</span>, <span class="key">upperLimit</span>: <span class="integer">900</span>},
  ...
</pre>
                <h3>CoffeeScript</h3>
                <pre class="CodeRay">Cylon = require <span class="string"><span class="delimiter">'</span><span class="content">cylon</span><span class="delimiter">'</span></span>

Cylon.robot
  connection:
    name: <span class="string"><span class="delimiter">'</span><span class="content">arduino</span><span class="delimiter">'</span></span>, <span class="key">adaptor</span>: <span class="string"><span class="delimiter">'</span><span class="content">firmata</span><span class="delimiter">'</span></span>, <span class="key">port</span>: <span class="string"><span class="delimiter">'</span><span class="content">/dev/ttyACM0</span><span class="delimiter">'</span></span>

  device:
    name: <span class="string"><span class="delimiter">'</span><span class="content">sensor</span><span class="delimiter">'</span></span>, <span class="key">driver</span>: <span class="string"><span class="delimiter">'</span><span class="content">analogSensor</span><span class="delimiter">'</span></span>, <span class="key">pin</span>: <span class="integer">0</span>, <span class="key">lowerLimit</span>: <span class="integer">100</span>, <span class="key">upperLimit</span>: <span class="integer">900</span>
  ...
</pre>
              </section><section class="public-methods"><h2>Commands:</h2>
                <dl class="methods">
<dt>analogRead(pin_number) → integer_value</dt>
                  <dd>Returns an integer value that represents the analog read from the sensor.</dd>
                </dl></section><section class="public-events"><h2>Events:</h2>
                <dl class="methods">
<dt>update</dt>
                  <dd>
                    This event will contain one of the following events.
                    <br>
                    You can also subscribe to one of the specific events, if that is the information you are interested in.
                  </dd>
                  <dt>analogRead</dt>
                  <dd>Returns an integer value that represents the analog read from the sensor.</dd>
                  <dt>upperLimit → integer_value</dt>
                  <dd>Gets triggered if the value read by the sensor is greater or equal to upperLimit (value passed when setting up the sensor).</dd>
                  <dt>lowerLimit → integer_value</dt>
                  <dd>Gets triggered if the value read by the sensor is less or equal to lowerLimit (value passed when setting up the sensor).</dd>
                  <dt>start</dt>
                  <dd>Sent when the device has been started and is ready to use.</dd>
                </dl></section><section class="how-to"><h2>How to use</h2>
                <p>
                  This example detects lower and upper limits on a photoresistor sensor.
                </p>
                <h3>JavaScript</h3>
                <pre class="CodeRay"><span class="keyword">var</span> Cylon = require(<span class="string"><span class="delimiter">'</span><span class="content">cylon</span><span class="delimiter">'</span></span>);

Cylon.robot({
  <span class="key">connection</span>: {<span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">arduino</span><span class="delimiter">'</span></span>, <span class="key">adaptor</span>: <span class="string"><span class="delimiter">'</span><span class="content">firmata</span><span class="delimiter">'</span></span>, <span class="key">port</span>: <span class="string"><span class="delimiter">'</span><span class="content">/dev/ttyACM0</span><span class="delimiter">'</span></span>},

  <span class="key">device</span>: {<span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">sensor</span><span class="delimiter">'</span></span>, <span class="key">driver</span>: <span class="string"><span class="delimiter">'</span><span class="content">analogSensor</span><span class="delimiter">'</span></span>, <span class="key">pin</span>: <span class="integer">0</span>, <span class="key">lowerLimit</span>: <span class="integer">100</span>, <span class="key">upperLimit</span>: <span class="integer">900</span>},

  <span class="function">work</span>: <span class="keyword">function</span>(my) {
    my.sensor.on(<span class="string"><span class="delimiter">'</span><span class="content">lowerLimit</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>() {
      Logger.info(<span class="string"><span class="delimiter">"</span><span class="content">Lower limit reached!</span><span class="delimiter">"</span></span>);
    });
    my.sensor.on(<span class="string"><span class="delimiter">'</span><span class="content">upperLimit</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>() {
      Logger.info(<span class="string"><span class="delimiter">"</span><span class="content">Upper limit reached!</span><span class="delimiter">"</span></span>);
    });
  }
}).start();
</pre>
                <h3>CoffeeScript</h3>
                <pre class="CodeRay">Cylon = require <span class="string"><span class="delimiter">'</span><span class="content">cylon</span><span class="delimiter">'</span></span>

Cylon.robot
  connection:
    name: <span class="string"><span class="delimiter">'</span><span class="content">arduino</span><span class="delimiter">'</span></span>, <span class="key">adaptor</span>: <span class="string"><span class="delimiter">'</span><span class="content">firmata</span><span class="delimiter">'</span></span>, <span class="key">port</span>: <span class="string"><span class="delimiter">'</span><span class="content">/dev/ttyACM0</span><span class="delimiter">'</span></span>

  device:
    name: <span class="string"><span class="delimiter">'</span><span class="content">sensor</span><span class="delimiter">'</span></span>, <span class="key">driver</span>: <span class="string"><span class="delimiter">'</span><span class="content">analogSensor</span><span class="delimiter">'</span></span>, <span class="key">pin</span>: <span class="integer">0</span>, <span class="key">lowerLimit</span>: <span class="integer">100</span>, <span class="key">upperLimit</span>: <span class="integer">900</span>

  work: (my) -&gt;
    my.sensor.on <span class="string"><span class="delimiter">'</span><span class="content">lowerLimit</span><span class="delimiter">'</span></span>, -&gt; Logger.info <span class="string"><span class="delimiter">"</span><span class="content">Lower limit reached!</span><span class="delimiter">"</span></span>
    my.sensor.on <span class="string"><span class="delimiter">'</span><span class="content">upperLimit</span><span class="delimiter">'</span></span>, -&gt; Logger.info <span class="string"><span class="delimiter">"</span><span class="content">Upper limit reached!</span><span class="delimiter">"</span></span>

.start()
</pre>
              </section><section class="circuit"><h2>Circuit and Schematic</h2>
                <p>
                  Circuit for analog sensors is pretty much the same as the button circuit, you just need to substitute
                  the button for a photoresistor.
                  <br><a target="_blank" href="http://arduino.cc/en/tutorial/button">http://arduino.cc/en/tutorial/button</a>
                </p>
                <p>
                  It should look like the circuit in this example.
                  <br><a target="_blank" href="http://arduino.cc/en/Tutorial/SwitchCase">http://arduino.cc/en/Tutorial/SwitchCase</a>
                </p>
              </section><section class="compatibility hardware"><h2>Works with:</h2>
                
                <div class="devices">
                  <a class="device" href="/documentation/platforms/arduino" title="Arduino">
                    <img src="/images/arduino.jpg"></a>
                  
                </div>
              </section>
</div>
          </section>
</div>
      </div>
    </div>
    <footer class="app-footer"><div class="w">
        <div class="copyright">
          © Copyright 2012-2013
          <a href="http://hybridgroup.com">The Hybrid Group.</a>
        </div>
      </div>
    </footer>
</body>
</html>
